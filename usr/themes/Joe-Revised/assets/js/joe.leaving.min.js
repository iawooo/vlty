document.addEventListener("DOMContentLoaded",()=>{const e=e=>window.btoa(unescape(encodeURIComponent(e))),t=e=>decodeURIComponent(escape(window.atob(e))),o=$(".joe_detail").attr("data-cid");{let a=localStorage.getItem(e("views"))?JSON.parse(t(localStorage.getItem(e("views")))):[];const n=a.includes(o);n||$.ajax({url:Joe.BASE_API,type:"POST",dataType:"json",data:{routeType:"handle_views",cid:o},success(t){if(1!==t.code)return;$("#Joe_Article_Views").html(`${t.data.views} 阅读`),a.push(o);const n=e("views"),i=e(JSON.stringify(a));localStorage.setItem(n,i)}})}{let e=100;const t=["#F8D800","#0396FF","#EA5455","#7367F0","#32CCBC","#F6416C","#28C76F","#9F44D3","#F55555","#736EFE","#E96D71","#DE4313","#D939CD","#4C83FF","#F072B6","#C346C2","#5961F9","#FD6585","#465EFB","#FFC600","#FA742B","#5151E5","#BB4E75","#FF52E5","#49C628","#00EAFF","#F067B4","#F067B4","#ff9a9e","#00f2fe","#4facfe","#f093fb","#6fa3ef","#bc99c4","#46c47c","#f9bb3c","#e8583d","#f68e5f"],o=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,a=$(".joe_detail__leaving-list").width(),n=$(".joe_detail__leaving-list").height(),i=["20px 300px","20px 400px","20px 500px","30px 300px","30px 400px","30px 500px","40px 300px","40px 400px","40px 500px"],p=["300px 20px","400px 20px","500px 20px","300px 30px","400px 30px","500px 30px","300px 40px","400px 40px","500px 40px"];$(".joe_detail__leaving-list .item").each((d,l)=>{const s=o(1,99),c=t[o(0,t.length-1)],x=Math.ceil($(l).width()),r=Math.ceil($(l).height()),h=o(0,n-r),g=o(0,a-x);$(l).css({display:"block",zIndex:s,background:c,top:h,left:g,borderTopLeftRadius:p[o(0,p.length-1)],borderTopRightRadius:i[o(0,i.length-1)],borderBottomLeftRadius:i[o(0,i.length-1)],borderBottomRightRadius:i[o(0,i.length-1)]}),$(l).draggabilly({containment:!0}),$(l).on("dragStart",t=>{e++,$(l).css({zIndex:e})})})}}),window.addEventListener("load",function(){{const e=new URLSearchParams(location.search).get("scroll");if(e){const t=$(".joe_header").height();let o=null;if(o=$("#"+e).length>0?$("#"+e):$("."+e),o&&o.length>0){const e=o.offset().top-t-15;window.scrollTo({top:e,behavior:"smooth"})}}}});